(function( $ ){

	var CST_Homepage = {

		/**
		 * Initialize basic theme JavaScript
		 */
		init: function() {

			this.cacheElements();
			this.bindEvents();

		},

		/**
		 * Cache elements to object-level variables
		 */
		cacheElements: function() {

			this.body = $('body');
			this.primaryNavigation = $('#fixed-nav-wrapper');
			this.topLogos = $('#top-logos');

			this.scrollToolbarHeight = $('#fixed-nav-wrapper').outerHeight();
			if ( $('#wpadminbar').length ) {
				this.scrollToolbarHeight += $('#wpadminbar').outerHeight();
			}

		},

		/**
		 * Bind events happening within the theme
		 */
		bindEvents: function() {

			$(window).scroll( $.proxy( function() {
				setTimeout( $.proxy( this.doScrollEvent, this ), 1 );
			}, this ) );




		},

		/**
		 * Events that might need to happen when scrolling
		 */
		doScrollEvent: function() {

			var scrollTop = $(window).scrollTop();

			if ( scrollTop > this.topLogos.height() ) {

				// Primary Navigation
				if ( $('#wpadminbar') && $(window).width() > 782 ) {
					if ( this.primaryNavigation.hasClass('fixed') ) {
						this.primaryNavigation.css( 'top', $('#wpadminbar').height() );
					}
				}

			} else {

				// Primary Navigation
				if ( $('#wpadminbar') ) {
					if ( this.primaryNavigation.removeClass('fixed') ) {
						this.primaryNavigation.removeAttr('style');
					}
				}

			}


		}

	};

	/**
	 * Wait until the document is ready before initializing the theme
	 */
	$(document).ready(function(){

		$(document).foundation();

		CST_Homepage.init();

	});

}( jQuery ) );
